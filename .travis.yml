language: python
python:
  - "3.4"
install:
  - "pip install coveralls"
  - "pip install -r requirements.txt"
  - "apt-get install python3-dev"
script: "coverage run --source='.' --omit='jtx/wsgi.py,jtx/settings/*,*/migrations/*,*/__init__.py,manage.py' manage.py test"
after_success: coveralls

notifications:
  irc:
    channels:
      - "irc.rezosup.org#jtx-dev"
    template:
      - "%{repository_name}/%{branch} %{commit} %{author}: %{message}"
    on_success: change
    on_failure: always
    use_notice: true
    skip_join: true
